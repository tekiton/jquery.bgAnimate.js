/**
 * jquery.bgAnimate.js
 * https://github.com/tekiton/jquery.bgAnimate.js
 *
 * @author tekiton
 * @version 1.1.0
 * @license MIT LICENSE :)
 */
;(function(e){jQuery.fn.bgAnimate=function(t){if(!t)t={};if(t==="destroy")return e(this).removeData("bgAnimate");t=e.extend({height:null,duration:200,frame:5,loop:0,autoplay:false,onPlay:function(){},onStop:function(){},onPause:function(){},onComplete:function(){}},t);return e(this).each(function(){var n=e(this);var r=t.height||n.height();var i=0;var s=t.loop;var o=null;var u=false;var a=false;var f=null;switch(typeof t.duration){case"function":f=t.duration;break;case"object":if(t.duration instanceof Array){f=function(e){return t.duration[e%t.frame]};break};case"number":default:f=function(e){return t.duration};break}var l={play:function(){if(o)return;if(u){i=0;u=false}a=false;var e=function(){clearTimeout(o);if(a)return;if(++i>=t.frame){i=0;if(!s){a=true;o=null;u=true;t.onStop();t.onComplete();return}else if(s>0){s--}}n.css("backgroundPosition","").css("backgroundPositionX","").css("backgroundPositionY","");var l=n.css("backgroundPositionX")||n.css("backgroundPosition").split(" ")[0];n.css({backgroundPosition:l+" "+String(-r*i)+"px"});o=setTimeout(e,f(i))};e();o=setTimeout(e,f(i));t.onPlay()},start:function(){l.play()},stop:function(){clearTimeout(o);a=true;o=null;i=0;t.onStop()},pause:function(){clearTimeout(o);a=true;o=null;t.onPause()},reset:function(){l.stop();n.css({backgroundPosition:""})},destroy:function(){n.removeData("bgAnimate")}};if(t.autoplay)l.start();n.data("bgAnimate",l)})}})(jQuery);